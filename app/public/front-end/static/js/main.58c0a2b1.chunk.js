(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="SAVE_BATCHS"},431:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},438:function(e,t,a){e.exports=a(999)},454:function(e,t){},461:function(e,t,a){e.exports=a(998)},466:function(e,t,a){},468:function(e,t,a){},61:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"b",function(){return i}),a.d(t,"g",function(){return c}),a.d(t,"d",function(){return o}),a.d(t,"c",function(){return l}),a.d(t,"a",function(){return s});var n="PUSH_TAB_LIST",r="REMOVE_TAB_LIST",i="FUNNEL_PARAMS",c="SET_ACTIVE",o="LISTEN_HASH",l="HEADER_MENU",s="CACHE_PANES"},991:function(e,t,a){},993:function(e,t,a){},998:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),o=(a(466),a(467),a(468),a(173)),l=a(23),s=a(24),u=a(27),m=a(25),p=a(26),d=a(1e3),h=a(299),f=a(11),b=a(431),y=a.n(b),g=a(298),v=a(152),_=a(82),E=a(66),k=a(33),O=a(61),j=function(e){return{type:O.e,tabItem:e}},x=function(e){return{type:O.f,key:e}},C=function(e){return{type:O.g,key:e}},S=function(){return{type:O.a}},w=g.a.TabPane,D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){a.props.cachePanes(),a.props.setActiveKey(e)},a.onEdit=function(e,t){"remove"===t&&(a.props.cachePanes(),a.props.removeTabList(e))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement(_.a,{span:1},this.props.children),r.a.createElement(_.a,{span:23},r.a.createElement(g.a,{activeKey:this.props.rdx_activeKey,tabPosition:"top",type:"editable-card",onChange:this.onChange,onEdit:this.onEdit},this.props.rdx_panes.map(function(e){return r.a.createElement(w,{tab:"".concat(e.title),key:e.key,closable:e.closable})}))))}}]),t}(n.Component),T=Object(E.b)(function(e,t){return{rdx_panes:e.tabpanes.panes,rdx_activeKey:e.tabpanes.activeKey}},function(e){return{removeTabList:Object(k.b)(x,e),setActiveKey:Object(k.b)(C,e),cachePanes:Object(k.b)(S,e)}})(D),A=a(57),P=a(437),N=d.a.Sider,I=d.a.Content,B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).menuOnchange=function(e){var t=e.item,n=e.key;a.props.cachePanes(),a.props.addTabList({key:n,title:t.props.name,closable:!0})},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.state={collapsed:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{className:"MainView"},r.a.createElement(N,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",null,r.a.createElement("img",{src:y.a,className:"App-logo",alt:""}),r.a.createElement("div",{className:"logo"})),r.a.createElement(h.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["/homepage"],onClick:this.menuOnchange},r.a.createElement(h.a.Item,{key:"/homepage",name:"Homepage"},r.a.createElement(f.a,{type:"contacts"}),r.a.createElement("span",null,"Homepage")),r.a.createElement(h.a.Item,{key:"/input",name:"ImportData"},r.a.createElement(f.a,{type:"file-excel"}),r.a.createElement("span",null,"ImportData")),r.a.createElement(h.a.Item,{key:"/query",name:"QueryData"},r.a.createElement(f.a,{type:"area-chart"}),r.a.createElement("span",null,"QueryData")),r.a.createElement(h.a.Item,{key:"/statement",name:"Statement"},r.a.createElement(f.a,{type:"area-chart"}),r.a.createElement("span",null,"Statement")),r.a.createElement(h.a.Item,{key:"/charts",name:"Charts"},r.a.createElement(f.a,{type:"area-chart"}),r.a.createElement("span",null,"Charts")))),r.a.createElement(d.a,null,r.a.createElement(T,{className:"header"},r.a.createElement(f.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement(I,{className:"content"},Object(P.a)(this.props.route.routes))))}}]),t}(n.Component),L=Object(E.b)(function(e,t){return{rdx_menuData:e.tabpanes.menuData,rdx_activeKey:e.tabpanes.activeKey}},function(e){return{addTabList:Object(k.b)(j,e),cachePanes:Object(k.b)(S,e)}})(Object(A.k)(B)),F=a(79),G=a(60),M=a.n(G),V=a(106),R=a(216),Y=a(222),H=a.n(Y),K=a(438),J=a.n(K)()(),W=a(296),z=a.n(W),U={SERVER_BASE_URL:"http://127.0.0.1:7001",FILE_ACCEPT:[".xls",".xlsm",".xlsx"]},Q=U.SERVER_BASE_URL;z.a.defaults.baseURL=Q;var X=z.a;var q={uploadXLSX:function(e){return X.post("/input/xlsx2db",e)},getList:function(e){var t=e.pageSize,a=e.startTime,n=e.endTime,r=e.pageNum,i=e.batchs,c={pageSize:t,startTime:a,endTime:n,pageNum:r,batchs:void 0===i?[]:i};return X.post("/result/pagedata",c)},getAllOfBatchs:function(){return X.get("/result/batchSelect",{params:{}})},getTestLineS:function(){return X.get("/statistics/teststand")},getAvailableBatchNum:function(e){var t=e.batch,a={batch:void 0===t?null:t};return X.get("/input/repeatBatch",{params:a})},getRptList:function(e){var t=e.current,a={current:void 0===t?1:t};return X.post("/statistics/pagedata",a)},searchDetail:function(e){var t=e.batch,a={batch:void 0===t?null:t};return X.post("/statistics/searchDetail",a)},getChartData:function(e){var t=e.batchs,a={batchs:void 0===t?[]:t};return X.post("/statistics/getChartData",a)},getSingleField:function(e){var t=e.statTable,a=void 0===t?"":t,n=e.batch,r={statTable:a,batch:void 0===n?"":n};return X.post("/statistics/getSingleField",r)},deleteBatch:function(e){var t=e.batchs,a={batchs:void 0===t?[]:t};return X.post("/result/deleteBatch",a)}},$=J.getState,Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).myCharts=null,a.statData={},a.option={},a.getData=function(){var e=a.props.type,t=$().charts[e];q.getChartData({batchs:t}).then(function(e){e.data.success&&(a.statData=e.data.data,console.log(a.statData),a.option=a.props.mapper(a.statData),a.initChart())})},a.initChart=function(){a.myCharts=H.a.init(a.refs.chart),a.myCharts.setOption(a.option,!0),a.props.onDataSet&&a.props.onDataSet(Object(R.a)(a))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(V.a)(M.a.mark(function e(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height;return r.a.createElement("div",null,r.a.createElement("div",{ref:"chart",style:{height:"".concat(a||800,"px"),width:"".concat(t||1200,"px")}}))}}]),t}(n.Component),ee=a(15),te=a.n(ee),ae=[{name:"Early Bird",value:function(e){return e.inc_early_bird}},{name:"Advance",value:function(e){return e.inc_advance}},{name:"Gameday",value:function(e){return e.inc_gameday}},{name:"Other",value:function(e){return e.inc_other}}],ne=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"mapper",value:function(e){return e.result.sort(function(e,t){return te()(e.game_date)-te()(t.game_date)}),console.log([["game_date"].concat(e.result.map(function(e){return te()(e.game_date).format("ll")}))].concat(Object(F.a)(ae.map(function(t){return[t.name].concat(e.result.map(function(e){return t.value(e)}))})))),{legend:{},tooltip:{trigger:"axis",showContent:!1},dataset:{source:[["game_date"].concat(e.result.map(function(e){return te()(e.game_date).format("ll")}))].concat(Object(F.a)(ae.map(function(t){return[t.name].concat(e.result.map(function(e){return t.value(e)}))})))},xAxis:{type:"category"},yAxis:{gridIndex:0},grid:{top:"55%"},series:[].concat(Object(F.a)(ae.map(function(e){return{type:"line",smooth:!0,seriesLayoutBy:"row"}})),[{type:"pie",id:"pie",radius:"30%",center:["50%","25%"],label:{formatter:"{b}: \xa3{@2012} ({d}%)"},encode:{itemName:"game_date",value:"2012",tooltip:"2012"}}])}}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChartView"},r.a.createElement(Z,{type:"Income_ticket_dataset",mapper:this.mapper,onDataSet:function(e){e.myCharts.on("updateAxisPointer",function(t){var a=t.axesInfo[0];if(a){var n=a.value+1;e.myCharts.setOption({series:{id:"pie",label:{formatter:"{b}: {@["+n+"]} ({d}%)"},encode:{value:n,tooltip:n}}})}})}}))}}]),t}(n.Component),re=a(224),ie=function(e,t){return{type:re.a,set_name:e,batchs:t}},ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={ok:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;q.getAllOfBatchs().then(function(t){if(t.data.success){var a=t.data.data.map(function(e){return e.batch});e.props.set_batch("Income_ticket_dataset",a),e.setState({ok:!0})}})}},{key:"componentDidMount",value:function(){console.log("\u6211\u662fhome\uff0c\u6211mount\u4e86")}},{key:"componentWillReceiveProps",value:function(e){console.log(e)}},{key:"componentWillUnmount",value:function(){console.log("\u4e0d\u7ba1\u7528\u554a")}},{key:"render",value:function(){return this.state.ok?r.a.createElement("div",null,r.a.createElement(ne,null)):null}}]),t}(n.Component),oe=Object(E.b)(function(e,t){return{}},function(e){return{set_batch:Object(k.b)(ie,e)}})(Object(A.k)(ce)),le=a(1011),se=a(1005),ue=a(1009),me=a(1012),pe=a(1008),de=a(51),he=a(178),fe=a(1004),be=a(1007),ye=he.a.Option,ge={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},ve={labelCol:{offset:4,span:6},wrapperCol:{span:6}},_e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).FieldData=[{id:"game_date",label:"Game Date",initialValue:te()(),attr:{onChange:function(e){a.props.form.setFieldsValue({weekday:ge[e.day()]}),console.log(e)}},rulse:[{transform:function(e){return te()(e).format("YYYY-MM-DD HH:mm:ss")}}],type:"DatePicker"},{id:"opposition",label:"Opposition",initialValue:null,type:"Input",rules:[{pattern:/.*/},{required:!0,message:"opposition is null"}]},{id:"weekday",label:"Weekday",initialValue:"Monday",type:"Select",optList:ge},{id:"days_since_prev_game",label:"Days Since Prev Game",initialValue:"0",type:"Input"},{id:"no_of_groups",label:"No. of Groups",initialValue:"0",type:"Input"},{id:"group_adults",label:"Group Adults",initialValue:"0",type:"Input"},{id:"group_children",label:"Group Children",initialValue:"0",type:"Input"},{id:"group_tickets_revenue",label:"Group Tickets Revenue",initialValue:"0",type:"Input",attr:{addonBefore:"\uffe1"}},{id:"eventbrite_add_ons",label:"Eventbrite Add-ons",initialValue:"0",type:"Input",attr:{addonBefore:"\uffe1"}},{id:"group_add_ons_food",label:"Group Add-ons/Food",initialValue:"0",type:"Input",attr:{addonBefore:"\uffe1"}},{id:"other_add_ons_food",label:"Other Add-ons/Food",initialValue:"0",type:"Input",attr:{addonBefore:"\uffe1"}},{id:"spare_comps_printed",label:"Spare Comps Printed",initialValue:"0",type:"Input"},{id:"comparable_game_date",label:"Comparable Game Date",initialValue:te()(),type:"DatePicker",rulse:[{transform:function(e){return te()(e).format("YYYY-MM-DD HH:mm:ss")}}]}],a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderFieldItem",value:function(e){switch(e.type){case"Input":return r.a.createElement(pe.a,e.attr);case"Select":return r.a.createElement(he.a,null,Object.entries(e.optList).map(function(e){return r.a.createElement(ye,{value:e[0],key:e[0]},e[1])}));case"DatePicker":return r.a.createElement(fe.a,e.attr);default:return r.a.createElement(pe.a,null)}}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement(be.a,Object.assign({},ve,{onSubmit:this.handleSubmit}),r.a.createElement(v.a,null,this.FieldData.map(function(a){return r.a.createElement(_.a,{span:12},r.a.createElement(be.a.Item,{label:a.label,key:a.label},t(a.id,{rules:a.rules,initialValue:e.props.initData[a.id]||a.initialValue})(e.renderFieldItem(a))))})))}}]),t}(n.Component),Ee=be.a.create({name:"ControlForm"})(_e),ke=le.a.Step,Oe=se.a.Dragger,je=ue.a.confirm,xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).steps=function(){return[{title:"First:Select your files and add a batch number",rule:function(){var e=Object(V.a)(M.a.mark(function e(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.getAvailableBatchNum({batch:a.state.batchNum}).then(function(e){if(e.data.success)return e.data.data.repeat?me.a.warn(e.data.msg):me.a.success(e.data.msg),a.state.fileList.length>0&&!e.data.data.repeat}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),msg:function(){me.a.warn("Please select the file")},content:r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Oe,Object.assign({},a.upload_props,{fileList:a.state.fileList}),r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(f.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files")),r.a.createElement(pe.a,{size:"large",placeholder:"Please enter batch numberlarge size",value:a.state.batchNum,onChange:function(e){a.setState({batchNum:e.target.value})}}))},{title:"Second:Adding descriptions to the data",rule:function(){var e=Object(V.a)(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.refs.ControlForm){e.next=5;break}return e.next=3,new Promise(function(e,t){a.refs.ControlForm.validateFields(function(t,n){t||a.setState({formData:n}),e(!t&&!0)})});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),msg:function(){me.a.warn("Please add a description")},content:r.a.createElement("div",null,r.a.createElement("h3",null,"You have to add descriptions to the data, which are essential for statistics."),r.a.createElement("p",null,"Q:Input error data?"),r.a.createElement("p",null,"A:Enter the <BasicData> page, use batch number to delete misleading data, and then re-import"),r.a.createElement(Ee,{ref:"ControlForm",initData:a.state.formData}))},{title:"Post Data",content:r.a.createElement("h2",null,"To complete the two steps,click Done button to upload file")}]},a.upload_props={name:"file",multiple:!1,beforeUpload:function(e,t){var n="".concat(te()().format("YYYYMMDDhhmmss"),"-").concat(e.name);return a.setState({fileList:t,batchNum:n}),!1},accept:U.FILE_ACCEPT.join(","),onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?me.a.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&me.a.error("".concat(e.file.name," file upload failed."))}},a.next=Object(V.a)(M.a.mark(function e(){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(F.a)(a.state.stepStatus),e.next=3,a.steps()[a.state.current].rule();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=!0;case 6:t[a.state.current]=e.t0,n=a.state.current+1,t[a.state.current]?a.setState({current:n,stepStatus:t}):a.steps()[a.state.current].msg();case 9:case"end":return e.stop()}},e)})),a.submit=function(){je({title:"Submit",content:"After confirming that your input is correct, click the button to submit",onOk:function(){var e=new FormData;return e.append("batch",a.state.batchNum),Object.entries(a.state.formData).forEach(function(t){return e.append.apply(e,Object(F.a)(t))}),a.state.fileList.forEach(function(t){e.append("files",t)}),q.uploadXLSX(e).then(function(e){e.data.success?me.a.success(e.data.msg):me.a.warn(e.data.msg),a.setState({current:0,fileList:[],batchNum:"",stepStatus:[!1,!1,!1],formData:{}})})},onCancel:function(){}})},a.state={current:0,fileList:[],batchNum:"",stepStatus:[!1,!1,!1],formData:{}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"prev",value:function(){var e=Object(F.a)(this.state.stepStatus);e[this.state.current]=this.steps()[this.state.current].rule()&&!0;var t=this.state.current-1;this.setState({current:t,stepStatus:e})}},{key:"render",value:function(){var e=this,t=this.state.current,a=this.steps();return r.a.createElement("div",{className:"DataInput"},r.a.createElement("div",{className:"DataInput-inner shadow-card"},r.a.createElement(le.a,{current:t},a.map(function(e,t){return r.a.createElement(ke,{key:e.title,title:e.title})})),r.a.createElement("div",{className:"steps-content"},a[t].content),r.a.createElement("div",{className:"steps-action"},t<a.length-1&&r.a.createElement(de.a,{type:"primary",onClick:function(){return e.next()}},"Next"),t===a.length-1&&r.a.createElement(de.a,{type:"primary",onClick:this.submit},"Upload"),t>0&&r.a.createElement(de.a,{style:{marginLeft:8},onClick:function(){return e.prev()}},"Previous"))))}}]),t}(n.Component),Ce=a(50),Se=a(1001),we=a(1003),De=he.a.Option,Te=fe.a.RangePicker,Ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).reset=function(){},a.onChange=function(e,t){a.setState({params:Object(Ce.a)({},a.state.params,{startTime:e[0].format("YYYY-MM-DD HH:mm:ss"),endTime:e[1].format("YYYY-MM-DD HH:mm:ss")})})},a.getData=function(){q.getList(a.state.params).then(function(e){if(e.data.success){var t=e.data.data,n=t.list,r=t.count,i=t.column,c=t.batchs;n=n.map(function(e){return Object(Ce.a)({},e,{key:e.autoid})}),a.setState({list:n,count:r,column:i,allOfBatchs:c})}})},a.handleChange=function(e){a.setState({params:Object(Ce.a)({},a.state.params,{batchs:e})})},a.onPageChange=function(){var e=Object(V.a)(M.a.mark(function e(t,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({params:Object(Ce.a)({},a.state.params,{pageNum:t})});case 2:a.getData();case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.delete=function(){q.deleteBatch({batchs:a.state.params.batchs}).then(function(e){e.data.success&&me.a.success("success")})},a.state={params:{pageSize:20,startTime:"2018-01-01 00:00:00",endTime:"2019-08-13 00:00:00",pageNum:1,batchs:[]},list:[],count:0,column:[],allOfBatchs:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"TestQuery"},r.a.createElement(v.a,{type:"flex",justify:"center",align:"bottom",className:"TestQuery-filter shadow-card"},r.a.createElement(_.a,{span:6},"Choose a time",r.a.createElement(Te,{showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",placeholder:["Start Time","End Time"],onChange:this.onChange,onOk:this.onOk,value:[te()(this.state.params.startTime),te()(this.state.params.endTime)]})),r.a.createElement(_.a,{span:6},"Choose a batch",r.a.createElement(he.a,{mode:"multiple",style:{width:"100%",overflow:"hidden"},placeholder:"Please select",defaultValue:[],onChange:this.handleChange},this.state.allOfBatchs.map(function(e){return r.a.createElement(De,{key:e},e)}))),r.a.createElement(_.a,{span:6}," ",r.a.createElement(de.a,{onClick:function(){e.setState({params:Object(Ce.a)({},e.state.params,{pageNum:1}),list:[],count:0,column:[],allOfBatchs:[]},e.getData)},type:"primary",shape:"circle",icon:"search"})),r.a.createElement(_.a,null,r.a.createElement(Se.a,{title:"The batch you choose will be deleted. Do you want to continue?",okText:"Yes",cancelText:"No",onConfirm:function(){e.delete()}},r.a.createElement(f.a,{type:"delete",style:{fontSize:"24px"}})))),r.a.createElement(we.a,{className:"TestQuery-table shadow-card",columns:this.state.column,dataSource:this.state.list,scroll:{x:3e3},size:"small",pagination:{pageSize:this.state.params.pageSize,total:this.state.count,current:this.state.params.pageNum,onChange:this.onPageChange}}))}}]),t}(n.Component),Pe=a(1013),Ne=a(153),Ie=a(1010),Be=a(457),Le={height:"250px",width:"25%",textAlign:"center"},Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={current:1,rptList:[],total:0},a.onClick=function(e){var t=e.name,n=e.path;a.props.cachePanes(),a.props.addTabList({key:n,title:t,closable:!0})},a.getRptList=function(){q.getRptList({current:a.state.current}).then(function(e){e.data.success&&a.setState({rptList:e.data.data.list,total:e.data.data.count})})},a.empty=function(){return r.a.createElement(Pe.a.Grid,{style:Le},r.a.createElement(v.a,null,r.a.createElement(Ne.a,null)))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getRptList()}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.rptList,n=t.total,i=a.length;i<12;i++)a.push(!1);return r.a.createElement("div",{className:"StatementMain"},r.a.createElement(Pe.a,{title:"Card Title"},a.map(function(t){return t?r.a.createElement(Pe.a.Grid,{onClick:function(){return e.onClick({name:t.opposition,path:"/statement/stat-detail/".concat(t.batch)})},style:Le},r.a.createElement(v.a,null,r.a.createElement(_.a,null,r.a.createElement("h2",null,t.opposition)),r.a.createElement(_.a,{span:12},r.a.createElement(Ie.a,{title:"Total Tickets(E'brite)",value:t.total_tickets_ebrite})),r.a.createElement(_.a,{span:12},r.a.createElement(Ie.a,{title:"Total Tics Income",value:t.total_tics_income+"\xa3"})),r.a.createElement(_.a,{span:12},r.a.createElement(Ie.a,{title:"Game Day",value:te()(t.game_date).format("ll")})),r.a.createElement(_.a,{span:12},r.a.createElement(Ie.a,{title:"Total Income",value:t.total_income_tics_merch_other+"\xa3"})))):e.empty()})),r.a.createElement(Be.a,{current:this.state.current,total:n}))}}]),t}(n.Component),Ge=Object(E.b)(function(e,t){return{rdx_menuData:e.tabpanes.menuData,rdx_activeKey:e.tabpanes.activeKey}},function(e){return{addTabList:Object(k.b)(j,e),cachePanes:Object(k.b)(S,e)}})(Fe),Me=a(228),Ve=a(1002),Re=a(1014),Ye=a(149),He=(a(991),[{name:"Bundle",value:function(e){try{return JSON.parse(e.lr_promotions).Bundle.sum}catch(t){return 0}}},{name:'EB "Full Price"',value:function(e){return e.total_tics_income-JSON.parse(e.lr_promotions).total.sum}},{name:"EB Promos",value:function(e){return JSON.parse(e.lr_promotions).total.sum}},{name:"LBL card tics",value:function(e){return e.income_lbl_card_tics}},{name:"Other tics",value:function(e){return e.income_other_tics}},{name:"Groups",value:function(e){return e.income_groups_tickets}},{name:"Total Merch/Food/Extras",value:function(e){return e.income_merch_other_none_group_packages}}]),Ke=[{name:"Season Tics/Comps",value:function(e){return e.season_tics_comps}},{name:"Bundle",value:function(e){return JSON.parse(e.lr_promotions).Bundle.count}},{name:'"Full" Price',value:function(e){return e.tickers_sold-JSON.parse(e.lr_promotions).total.count}},{name:"Promos",value:function(e){return JSON.parse(e.lr_promotions).total.count}},{name:"Groups Total",value:function(e){return e.total_adults_groups+e.tot_child_groups}},{name:"Total Scanned",value:function(e){return e.tickets_scanned}}],Je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).mapper1=function(e){var t=e.result[0]||a.props.data;return{title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:He.map(function(e){return e.name})},series:[{name:"Promotions Statistics",type:"pie",radius:"70%",center:["50%","60%"],data:He.map(function(e){return{name:e.name,value:e.value(t)}}),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},a.mapper2=function(e){var t=e.result[0]||a.props.data;return console.log(t),{title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:Ke.map(function(e){return e.name})},series:[{name:"TicketType Statistics",type:"pie",radius:"70%",center:["50%","60%"],data:Ke.map(function(e){return{name:e.name,value:e.value(t)}}),itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ChartView"},r.a.createElement("div",{className:"flex-row"},r.a.createElement(Z,Object.assign({},We,{type:"Sell_ticket",mapper:this.mapper1})),r.a.createElement(Z,Object.assign({},We,{type:"Sell_ticket",mapper:this.mapper2}))))}}]),t}(n.Component),We={width:700,height:400},ze=J.getState,Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).mapper=function(e){var t=a.state,n=t.ticket_type,r=t.price_tier;return{tooltip:{trigger:"item",formatter:function(e){return"".concat(e.seriesName," <br/>").concat(e.name,": ").concat(e.value," (").concat(e.percent,"%) <br/>\xa3").concat(e.data.income)}},legend:{orient:"horizontal",x:"left",data:n.map(function(e){return e.ticket_type}).concat([""]).concat(r.map(function(e){return e.price_tier}))},series:[{name:"Price Tier",type:"pie",selectedMode:"single",radius:[0,"30%"],center:["50%","50%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},data:r.map(function(e){return{name:e.price_tier,value:e.cnt,income:e.sum}})},{name:"Ticket Type",type:"pie",radius:["40%","55%"],center:["50%","50%"],data:n.map(function(e){return{name:e.ticket_type,value:e.cnt,income:e.sum}})}]}},a.state={ticket_type:[],price_tier:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=ze().charts.Income_ticket.length?ze().charts.Income_ticket:this.props.batchs;q.getSingleField({statTable:"Income_ticket",batch:t[0]}).then(function(t){if(t.data.success){var a=t.data.data,n=a.ticket_type,r=a.price_tier;e.setState({ticket_type:n,price_tier:r})}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChartView"},this.state.ticket_type.length>0&&this.state.price_tier.length>0?r.a.createElement(Z,{type:"Income_ticket",mapper:this.mapper}):null)}}]),t}(n.Component),Qe=he.a.Option,Xe=["rgb(208,206,206)","rgb(0,176,240)","rgb(146,208,80)","#","#"],qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getDetail=function(){var e=a.props.match.params.batch;q.searchDetail({batch:e}).then(function(e){if(e.data.success){var t=e.data.data,n=t.detail,r=t.describe,i=t.DetailGroup;a.setState({statData:n,describe:r,DetailGroup:i})}})},a.getComparDetail=function(){var e=a.state.comparBatch;e&&q.searchDetail({batch:e}).then(function(e){e.data.success&&a.setState({comparStatData:e.data.data})})},a.onSwitchChange=function(){a.setState({isComparison:!a.state.isComparison})},a.handleSelectChange=function(e){a.setState({comparBatch:e},function(){a.getComparDetail()})},a.state={statData:{},DetailGroup:{},describe:{},allOfBatchs:[],isComparison:!1,comparStatData:{},comparBatch:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getDetail(),this.getComparList()}},{key:"getComparList",value:function(){var e=this;q.getAllOfBatchs().then(function(t){t.data.success&&e.setState({allOfBatchs:t.data.data})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.statData,n=t.comparStatData,i=t.DetailGroup,c=t.describe,o=t.isComparison,l=t.comparBatch;return r.a.createElement("div",{className:"shadow-card",style:{margin:"25px"}},r.a.createElement("div",{className:"flex-row justify-between"},r.a.createElement("h2",null,"Single field statistics"),r.a.createElement("div",null,r.a.createElement("div",{className:"flex-row align-center"},r.a.createElement("h3",null,"Comparison?\xa0\xa0"),r.a.createElement(Ve.a,{checked:o,onChange:this.onSwitchChange}),r.a.createElement(he.a,{style:{width:300},onChange:this.handleSelectChange,value:l},this.state.allOfBatchs.filter(function(t){return t.batch!==e.props.match.params.batch}).map(function(e){return r.a.createElement(Qe,{key:e.batch},r.a.createElement("div",{className:"flex-row justify-between"},r.a.createElement("span",null,e.opposition),r.a.createElement("span",null,te()(e.game_date).format("ll"))))}))))),Object.entries(i).map(function(t){var i=Object(Me.a)(t,2),o=i[0],l=i[1];return r.a.createElement(Re.a,{title:l.label,bordered:!0,column:4},Object.entries(a).filter(function(e){var t=Object(Me.a)(e,2),a=t[0];t[1];return c[a].group===o}).map(function(t){var a=Object(Me.a)(t,2),i=a[0],o=a[1];return r.a.createElement(Re.a.Item,{style:{padding:0},label:r.a.createElement(Ye.a,{title:c[i].label,className:"shiyishi"},r.a.createElement("div",{style:{width:"120px",overflow:"hidden",textAlign:"end",whiteSpace:"nowrap",textOverflow:"ellipsis"}},c[i].label))},r.a.createElement(Ye.a,{title:o},r.a.createElement("div",{className:"bg-item",style:{backgroundColor:Xe[c[i].type]}},r.a.createElement("span",null,c[i].prefix),"%"===c[i].suffix?100*o:o,r.a.createElement("span",null,c[i].suffix),e.state.isComparison&&n.detail?r.a.createElement("div",{className:"comparStatData ".concat(e.state.isComparison?"onRight":"")},r.a.createElement("span",null,c[i].prefix),"%"===c[i].suffix?100*n.detail[i]:n.detail[i],r.a.createElement("span",null,c[i].suffix)):null,e.state.isComparison&&n.detail&&String(n.detail[i]).match(/^[\d\.]+$/g)?r.a.createElement("div",{className:"comparStatData ".concat(e.state.isComparison?"onLeft":"")},r.a.createElement("div",{className:"flex-row justify-center",style:{color:o-n.detail[i]>0?"red":"green"}},o-n.detail[i]>0?r.a.createElement(f.a,{style:{lineHeight:"inherit"},type:"rise"}):r.a.createElement(f.a,{type:"fall",style:{lineHeight:"inherit"}}),r.a.createElement("span",null,c[i].prefix),("%"===c[i].suffix?100*(o-n.detail[i]):o-n.detail[i]).toFixed(2),r.a.createElement("span",null,c[i].suffix))):null)))}))}),r.a.createElement("h2",null,"Income Pie"),Object.keys(a).length?r.a.createElement(Je,{data:a}):null,r.a.createElement("h2",null,"Income Type/Tire"),r.a.createElement(Ue,{batchs:[this.props.match.params.batch]}))}}]),t}(n.Component),$e=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){q.getTestLineS().then(function(e){Ze.legend.data=e.data.yAxis,Ze.yAxis.data=e.data.legend,Object.entries(e.data.yArr).forEach(function(e,t){Ze.series[t]={name:e[0],type:"bar",stack:"total",label:{normal:{show:!0,position:"insideRight"}},data:e[1]}});var t=document.getElementById("container1");H.a.init(t).setOption(Ze,!0)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"container1",style:{height:"800px",width:"1200px"}}))}}]),t}(n.Component),Ze={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]},series:[{name:"\u76f4\u63a5\u8bbf\u95ee",type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"insideRight"}},data:[320,302,301,334,390,330,320]},{name:"\u90ae\u4ef6\u8425\u9500",type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"insideRight"}},data:[120,132,101,134,90,230,210]},{name:"\u8054\u76df\u5e7f\u544a",type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"insideRight"}},data:[220,182,191,234,290,330,310]},{name:"\u89c6\u9891\u5e7f\u544a",type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"insideRight"}},data:[150,212,201,154,190,330,410]},{name:"\u641c\u7d22\u5f15\u64ce",type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"insideRight"}},data:[820,832,901,934,1290,1330,1320]}]},et=(a(993),he.a.Option),tt={height:"250px",width:"25%",textAlign:"center"},at=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onClick=function(e){var t=e.name,n=e.path;a.props.set_batch(t,a.state.batchs),a.props.cachePanes(),a.props.addTabList({key:n,title:t,closable:!0})},a.datasetClick=function(e){var t=e.name,n=e.path;a.props.set_batch(t,a.state.batchs.length?a.state.batchs:a.state.allOfBatchs.map(function(e){return e.batch})),a.props.cachePanes(),a.props.addTabList({key:n,title:t,closable:!0})},a.singleClick=function(e){1===a.state.batchs.length?a.onClick(e):me.a.warn("Please select only one match.")},a.multipleClick=function(e){0!==a.state.batchs.length?a.onClick(e):me.a.warn("Please select only one match.")},a.getAllOfBatchs=function(){q.getAllOfBatchs().then(function(e){e.data.success&&a.setState({allOfBatchs:e.data.data})})},a.handleChange=function(e){a.setState({batchs:e})},a.state={batchs:[],allOfBatchs:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getAllOfBatchs()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ChartsMain"},r.a.createElement("div",{className:"shadow-card"},"Choose a batch",r.a.createElement(he.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:this.handleChange},this.state.allOfBatchs.map(function(e){return r.a.createElement(et,{key:e.batch},r.a.createElement("div",{className:"flex-row justify-between"},r.a.createElement("span",null,e.opposition),r.a.createElement("span",null,te()(e.game_date).format("ll"))))}))),r.a.createElement("div",{className:"StatementMain shadow-card",style:{marginTop:"50px"}},r.a.createElement(Pe.a,{title:"Dash-Charts"},r.a.createElement(Pe.a.Grid,{onClick:function(){return e.multipleClick({name:"Dash_Financials",path:"/Dash-Financials"})},style:tt},r.a.createElement("img",{src:"./images/linetest.png",alt:""}),r.a.createElement("h3",null,"Dash_Financials")),r.a.createElement(Pe.a.Grid,{onClick:function(){return e.multipleClick({name:"Dash_Attendance",path:"/Dash-Attendance"})},style:tt},r.a.createElement("img",{src:"./images/linetest.png",alt:""}),r.a.createElement("h3",null,"Dash_Attendance")),r.a.createElement(Pe.a.Grid,{onClick:function(){return e.multipleClick({name:"Dash_TicketTypes",path:"/Dash-TicketTypes"})},style:tt},r.a.createElement("img",{src:"./images/compound.jpg",alt:""}),r.a.createElement("h3",null,"Dash_TicketTypes")),r.a.createElement(Pe.a.Grid,{onClick:function(){return e.multipleClick({name:"Dash_PricingTiers",path:"/Dash-PricingTiers"})},style:tt},r.a.createElement("img",{src:"./images/compound.jpg",alt:""}),r.a.createElement("h3",null,"Dash_PricingTiers"))),r.a.createElement(Pe.a,{title:"Single field",className:"StatementMain"},r.a.createElement(Pe.a.Grid,{onClick:function(){return e.singleClick({name:"Sell_ticket",path:"/cust-selticket"})},style:tt},r.a.createElement("img",{src:"./images/pietest.jpg",alt:""}),r.a.createElement("h3",null,"Sell_ticket")),r.a.createElement(Pe.a.Grid,{onClick:function(){return e.singleClick({name:"Income_ticket",path:"/cust-incticket"})},style:tt},r.a.createElement("img",{src:"./images/nestPie.jpg",alt:""}),r.a.createElement("h3",null,"Income_ticket")),r.a.createElement(Pe.a.Grid,{onClick:function(){return e.datasetClick({name:"Income_ticket_dataset",path:"/cust-incticketDS"})},style:tt},r.a.createElement("img",{src:"./images/sharedataset.jpg",alt:""}),r.a.createElement("h3",null,"Income_ticket_dataset")))))}}]),t}(n.Component),nt=Object(E.b)(function(e,t){return{rdx_menuData:e.tabpanes.menuData,rdx_activeKey:e.tabpanes.activeKey}},function(e){return{addTabList:Object(k.b)(j,e),cachePanes:Object(k.b)(S,e),set_batch:Object(k.b)(ie,e)}})(at),rt=a(1006),it=[{name:"Bundle",value:function(e){return JSON.parse(e.lr_promotions).Bundle.sum}},{name:'EB "Full Price"',value:function(e){return e.total_tics_income-JSON.parse(e.lr_promotions).total.sum}},{name:"EB Promos",value:function(e){return JSON.parse(e.lr_promotions).total.sum}},{name:"LBL card tics",value:function(e){return e.income_lbl_card_tics}},{name:"Other tics",value:function(e){return e.income_other_tics}},{name:"Groups",value:function(e){return e.income_groups_tickets}},{name:"Total Merch/Food/Extras",value:function(e){return e.income_merch_other_none_group_packages}}],ct=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"mapper",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:it.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",data:e.oppositions},series:it.map(function(t){return{name:t.name,type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChartView"},r.a.createElement(Z,{type:"Dash_Financials",mapper:this.mapper}))}}]),t}(n.Component),ot=[{name:"Season Tics/Comps",value:function(e){return e.season_tics_comps}},{name:"Bundle",value:function(e){return JSON.parse(e.lr_promotions).Bundle.count}},{name:'"Full" Price',value:function(e){return e.tickers_sold-JSON.parse(e.lr_promotions).total.count}},{name:"Promos",value:function(e){return JSON.parse(e.lr_promotions).total.count}},{name:"Groups Total",value:function(e){return e.total_adults_groups+e.tot_child_groups}},{name:"Total Scanned",value:function(e){return e.tickets_scanned}}],lt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"mapper",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:ot.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",data:e.oppositions},series:ot.map(function(t){return{name:t.name,type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChartView"},r.a.createElement(Z,{type:"Dash_Attendance",mapper:this.mapper}))}}]),t}(n.Component),st=[{name:"Adults",value:function(e){return e.total_adults}},{name:"Concessions",value:function(e){return e.total_concessions}},{name:"Children",value:function(e){return e.total_children}},{name:"Family1",value:function(e){return e.total_family1}},{name:"Family2",value:function(e){return e.total_family2}}],ut=[{name:"Adults",value:function(e){return e.inc_audults}},{name:"Concessions",value:function(e){return e.inc_concessions}},{name:"Children",value:function(e){return e.inc_children}},{name:"Family1",value:function(e){return e.inc_family1}},{name:"Family2",value:function(e){return e.inc_family2}}],mt=[{name:"% Adults",value:function(e){return(e.total_adults/(e.total_adults+e.total_concessions+e.total_children+e.total_family1+e.total_family2)).toFixed(2)}},{name:"% Concessions",value:function(e){return(e.total_concessions/(e.total_adults+e.total_concessions+e.total_children+e.total_family1+e.total_family2)).toFixed(2)}},{name:"% Children",value:function(e){return(e.total_children/(e.total_adults+e.total_concessions+e.total_children+e.total_family1+e.total_family2)).toFixed(2)}},{name:"% Family1",value:function(e){return(e.total_family1/(e.total_adults+e.total_concessions+e.total_children+e.total_family1+e.total_family2)).toFixed(2)}},{name:"% Family2",value:function(e){return(e.total_family2/(e.total_adults+e.total_concessions+e.total_children+e.total_family1+e.total_family2)).toFixed(2)}}],pt=[{name:"% Adults",value:function(e){return(e.inc_audults/(e.inc_audults+e.inc_concessions+e.inc_children+e.inc_family1+e.inc_family2)).toFixed(2)}},{name:"% Concessions",value:function(e){return(e.inc_concessions/(e.inc_audults+e.inc_concessions+e.inc_children+e.inc_family1+e.inc_family2)).toFixed(2)}},{name:"% Children",value:function(e){return(e.inc_children/(e.inc_audults+e.inc_concessions+e.inc_children+e.inc_family1+e.inc_family2)).toFixed(2)}},{name:"% Family1",value:function(e){return(e.inc_family1/(e.inc_audults+e.inc_concessions+e.inc_children+e.inc_family1+e.inc_family2)).toFixed(2)}},{name:"% Family2",value:function(e){return(e.inc_family2/(e.inc_audults+e.inc_concessions+e.inc_children+e.inc_family1+e.inc_family2)).toFixed(2)}}],dt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"mapper1",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:st.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",data:e.oppositions},series:st.map(function(t){return{name:t.name,type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"mapper2",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:ut.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",data:e.oppositions},series:ut.map(function(t){return{name:t.name,type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"mapper3",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},legend:{data:mt.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",boundaryGap:!1,data:e.oppositions},series:mt.map(function(t){return{name:t.name,type:"line",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"top"}},areaStyle:{normal:{}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"mapper4",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},legend:{data:pt.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",boundaryGap:!1,data:e.oppositions},series:pt.map(function(t){return{name:t.name,type:"line",stack:"\u603b\u91cf",areaStyle:{},label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChartView"},r.a.createElement("div",{className:"flex-row justify-around"},r.a.createElement(Z,Object.assign({},ht,{type:"Dash_TicketTypes",mapper:this.mapper1})),r.a.createElement(Z,Object.assign({},ht,{type:"Dash_TicketTypes",mapper:this.mapper2}))),r.a.createElement("div",{className:"flex-row justify-around"},r.a.createElement(Z,Object.assign({},ht,{type:"Dash_TicketTypes",mapper:this.mapper3})),r.a.createElement(Z,Object.assign({},ht,{type:"Dash_TicketTypes",mapper:this.mapper4}))))}}]),t}(n.Component),ht={width:700,height:400},ft=[{name:"Early Bird",value:function(e){return e.early_bird_tics}},{name:"Advance",value:function(e){return e.advance_tics}},{name:"Gameday",value:function(e){return e.gameday_tics}},{name:"Other",value:function(e){return e.other_tics}}],bt=[{name:"Early Bird",value:function(e){return e.inc_early_bird}},{name:"Advance",value:function(e){return e.inc_advance}},{name:"Gameday",value:function(e){return e.inc_gameday}},{name:"Other",value:function(e){return e.inc_other}}],yt=[{name:"% Early Bird",value:function(e){return(e.early_bird_tics/(e.early_bird_tics+e.advance_tics+e.gameday_tics)).toFixed(2)}},{name:"% Advance",value:function(e){return(e.advance_tics/(e.early_bird_tics+e.advance_tics+e.gameday_tics)).toFixed(2)}},{name:"% Gameday",value:function(e){return(e.gameday_tics/(e.early_bird_tics+e.advance_tics+e.gameday_tics)).toFixed(2)}}],gt=[{name:"% Early Bird",value:function(e){return(e.inc_early_bird/(e.inc_early_bird+e.inc_advance+e.inc_gameday)).toFixed(2)}},{name:"% Advance",value:function(e){return(e.inc_advance/(e.inc_early_bird+e.inc_advance+e.inc_gameday)).toFixed(2)}},{name:"% Gameday",value:function(e){return(e.inc_gameday/(e.inc_early_bird+e.inc_advance+e.inc_gameday)).toFixed(2)}}],vt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"mapper1",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:ft.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",data:e.oppositions},series:ft.map(function(t){return{name:t.name,type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"mapper2",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:bt.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",data:e.oppositions},series:bt.map(function(t){return{name:t.name,type:"bar",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"mapper3",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},legend:{data:yt.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",boundaryGap:!1,data:e.oppositions},series:yt.map(function(t){return{name:t.name,type:"line",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"top"}},areaStyle:{normal:{}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"mapper4",value:function(e){return{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},legend:{data:gt.map(function(e){return e.name})},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",boundaryGap:!1,data:e.oppositions},series:gt.map(function(t){return{name:t.name,type:"line",stack:"\u603b\u91cf",areaStyle:{},label:{normal:{show:!0,position:"inside"}},data:e.result.map(function(e){return t.value(e)})}})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChartView"},r.a.createElement("div",{className:"flex-row justify-around"},r.a.createElement(Z,Object.assign({},_t,{type:"Dash_PricingTiers",mapper:this.mapper1})),r.a.createElement(Z,Object.assign({},_t,{type:"Dash_PricingTiers",mapper:this.mapper2}))),r.a.createElement("div",{className:"flex-row justify-around"},r.a.createElement(Z,Object.assign({},_t,{type:"Dash_PricingTiers",mapper:this.mapper3})),r.a.createElement(Z,Object.assign({},_t,{type:"Dash_PricingTiers",mapper:this.mapper4}))))}}]),t}(n.Component),_t={width:700,height:400},Et=a(454),kt=a.n(Et);console.log("sss",ct);var Ot=[{path:"/",component:L,routes:[{path:"/homepage",component:oe},{path:"/query",component:Ae},{path:"/input",component:xe,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(xe,null))}},{path:"/statement",exact:!0,component:Ge},{path:"/statement/stat-detail/:batch",component:qe},{path:"/statement/testline",unmount:!0,component:$e},{path:"/charts",exact:!0,component:nt},{path:"/Dash-Financials",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(ct,null))}},{path:"/Dash-Attendance",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(lt,null))}},{path:"/Dash-TicketTypes",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(dt,null))}},{path:"/Dash-PricingTiers",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(vt,null))}},{path:"/cust-selticket",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(Je,null))}},{path:"/cust-incticket",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(Ue,null))}},{path:"/cust-incticketDS",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(ne,null))}},{path:"/cust-incCartesian",exact:!0,render:function(e){var t=!J.getState().tabpanes.lastPanes.some(function(t){return t.key===e.location.pathname});return r.a.createElement(rt.a,{name:e.location.pathname,disabled:t},r.a.createElement(kt.a,null))}}]}];var jt,xt=a(995),Ct=(jt=a(0))&&"object"===typeof jt&&"default"in jt?jt.default:jt;function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var wt=function(){return r.a.createElement(o.HashRouter,null,(void 0===t&&(t={}),void 0===a&&(a={}),(e=Ot)?Ct.createElement(xt.CacheSwitch,a,e.map(function(e,a){return Ct.createElement(xt.CacheRoute,{key:e.key||a,path:e.path,exact:e.exact,strict:e.strict,when:e.when,cacheKey:e.cacheKey,unmount:!1,behavior:function(e){return e?{style:{display:"none"}}:void 0},render:function(a){return e.render?e.render(St({},a,t,{route:e})):Ct.createElement(e.component,St({},a,t,{route:e}))}})})):null));var e,t,a};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(997);var Dt=a(80),Tt=(J.getState,window.location.hash.replace("#","")),At=J.getState().tabpanes.panes;At.some(function(e){return e.key===Tt})||window.open("#"+At[0].key,"_self"),c.a.render(r.a.createElement(E.a,{store:J},r.a.createElement(Dt.c,null,r.a.createElement(wt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},999:function(e,t,a){"use strict";a.r(t);var n=a(33),r=a(456),i=a(439),c=a.n(i),o={};var l=a(79),s=a(50),u=a(61),m=[{title:"homepage",key:"/homepage",closable:!1}],p={panes:m,lastPanes:[],activeKey:m[0].key};function d(e){window.location.href=window.location.origin+window.location.pathname+"#"+e}console.log("\u521d\u59cb\u5316"),console.log(p);var h=a(223),f=a(224),b={Dash_Financials:[],Dash_Attendance:[],Dash_TicketTypes:[],Dash_PricingTiers:[],Sell_ticket:[],Income_ticket:[],Income_ticket_dataset:[],Income_Cartesian:[]};var y=Object(n.c)({appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(arguments.length>1?arguments[1]:void 0).type,e},tabpanes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.e:if(e.panes.some(function(e){return e.key===t.tabItem.key}))return d(t.tabItem.key),Object(s.a)({},e,{activeKey:t.tabItem.key});var a=Object(l.a)(e.panes);return a.push(t.tabItem),d(t.tabItem.key),Object(s.a)({},e,{panes:a,activeKey:t.tabItem.key});case u.f:var n=e.panes.filter(function(e){return e.key!==t.key}),r=n[n.length-1].key;return d(r),Object(s.a)({},e,{panes:n,activeKey:r});case u.b:return Object(s.a)({},e,{panes:e.panes.filter(function(e){return!1===e.closable})});case u.g:return d(t.key),Object(s.a)({},e,{activeKey:t.key});case u.d:return e.panes.some(function(e){return e.key===t.hash})?Object(s.a)({},e,{activeKey:t.hash}):Object(s.a)({},e);case u.c:return Object(s.a)({},e,{menuData:t.data});case u.a:return Object(s.a)({},e,{lastPanes:Object(l.a)(e.panes)});default:return e}},charts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:return Object(s.a)({},e,Object(h.a)({},t.set_name,t.batchs));default:return e}}}),g=Object(r.a)({key:"root",storage:c.a},y),v=Object(n.a)();function _(e){return Object(n.d)(g,e,v)}a.d(t,"default",function(){return _})}},[[461,1,2]]]);
//# sourceMappingURL=main.58c0a2b1.chunk.js.map